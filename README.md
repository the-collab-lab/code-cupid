# code-cupid

Demo repo for [AWS App Composer meetup talk](https://www.meetup.com/tech-talks-by-the-collab-lab/events/298701853/). The repo contains code for an app that connects developers with open source projects. Kind of like finding a Valentine's date, but for code! üíò

We ‚ù§Ô∏è [AWS Application Composer](https://docs.aws.amazon.com/application-composer/latest/dg/what-is-composer.html).

## Cloud Resources

![application-composer-template yaml](https://github.com/the-collab-lab/code-cupid/assets/12616554/51b0745a-52cf-49ed-9c42-6e596809b066)

## Quickstart

1. Clone this repo
2. Install the [AWS CLI](https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html) and [SAM CLI](https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/install-sam-cli.html)
3. Sign up for an AWS account if you do not have one or use an existing account (see warning below)
4. Configure the [AWS CLI](https://docs.aws.amazon.com/cli/latest/userguide/getting-started-quickstart.html)
5. Run `sam build`
6. Run `sam deploy --guided` and follow the prompts

**Alt:** Instead of steps 4-5, this can also be done via Application Composer and the AWS Toolkit for VS Code using the "sync" button. Getting started guide [here](https://docs.aws.amazon.com/application-composer/latest/dg/using-composer-ide.html).

**Hot Tip:** view all of your deployed Lambda logs at once in this stack in your terminal by using the SAM CLI command

`sam logs --profile <your-aws-profile-name> --region <your-aws-region> --stack-name <your-stack-name> --tail`

**Warning:** Anything you deploy to an AWS account will cost money if it goes beyond the free tier. Make sure to clean up your resources after you are done with this demo.

Alternatively, you can ask someone for access to their AWS account, or see if Danielle Heberling has some AWS credits she can give you (she is reachable via DM in the collab lab slack).

## Endpoints

### POST /repo

Body

```json
{
  "repoURL": "https://github.com/{repoOwner}/{repoName}",
  "language": "programming-language"
}
```

Purpose: Add a new repo to the table

### GET /repos/:language

Purpose: Get a list of repos from the table for a given programming language

## DynamoDB Table

### Table Name

`{stackname}-Repos-{randomString}`

### Table Schema

id: string (partition key) - format: `{repoOwner}-{repoName}` - generated by backend

link: string - format: `https://github.com/{repoOwner}/{repoName}`

language: string - programming language converted to lowercase - ex. `javascript`

createdAt: string - milliseconds since epoch (January 1, 1970 UTC) - generated by backend

### Global Secondary Index

#### languageIndex

Partition key: `language` - allows us to search by language
